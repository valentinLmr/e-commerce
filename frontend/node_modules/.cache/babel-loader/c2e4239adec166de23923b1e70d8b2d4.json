{"ast":null,"code":"import React, { Component } from \"react\";\n\nclass filter extends Component {\n  constructor(...args) {\n    super(...args);\n    this.filters = {\n      categories: [],\n      size: null,\n      brand: null,\n      color: null,\n      price: null,\n      data: null\n    };\n\n    this.checkQuantities = products => {\n      let arrayOfQuantity = [];\n      let sum;\n\n      if (this.filters.size) {\n        products.map(product => {\n          product.colors.map(color => {\n            arrayOfQuantity.push(this.checkQuantity(color));\n          });\n          sum = this.reducermethod(arrayOfQuantity);\n          arrayOfQuantity = [];\n\n          if (sum == 0) {\n            this.splice(products, product);\n          }\n\n          return products;\n        });\n      } else {\n        return products;\n      }\n    };\n\n    this.checkQuantity = element => {\n      let result;\n      let color;\n\n      if (!this.filters.color) {\n        result = element.sizes.find(product => product.size == this.filters.size);\n      } else {\n        color = element.filter(product => product.color == this.filters.color);\n      }\n\n      return result.quantity;\n    };\n\n    this.findItem = () => {\n      let arrayofproduct = [];\n      let initialState = [...datas.products];\n\n      if (this.filters.categories.length > 0 && this.filters.price && this.filters.brand) {\n        this.filters.categories.map(categorie => arrayofproduct.push(this.filterMethod(initialState, \"categories\", categorie)));\n        arrayofproduct = [].concat(...arrayofproduct);\n        arrayofproduct = arrayofproduct.filter(product => {\n          return product.price <= this.filters.price && product.brand == this.filters.brand;\n        });\n      } else if (this.filters.categories.length > 0 && this.filters.price) {\n        this.filters.categories.map(categorie => arrayofproduct.push(this.filterMethod(initialState, \"categories\", categorie)));\n        arrayofproduct = [].concat(...arrayofproduct);\n        arrayofproduct = this.filterMethod(arrayofproduct, \"price\", this.filters.price);\n      } else if (this.filters.categories.length > 0 && this.filters.brand) {\n        this.filters.categories.map(categorie => arrayofproduct.push(this.filterMethod(initialState, \"categories\", categorie)));\n        arrayofproduct = [].concat(...arrayofproduct);\n        arrayofproduct = this.filterMethod(arrayofproduct, \"brand\", this.filters.brand);\n      } else if (this.filters.categories.length == 0 && this.filters.price) {\n        arrayofproduct.push(this.filterMethod(initialState, \"price\", this.filters.price));\n      } else if (this.filters.categories.length == 0 && this.filters.brand) {\n        console.log(\"i m here\");\n        arrayofproduct.push(this.filterMethod(initialState, \"brand\", this.filters.brand));\n      } else if (this.filters.categories.length > 0) {\n        this.filters.categories.map(categorie => {\n          arrayofproduct.push(this.filterMethod(initialState, \"categories\", categorie));\n        });\n      } else {\n        arrayofproduct = initialState;\n      }\n\n      const products = [].concat(...arrayofproduct);\n      return products;\n    };\n\n    this.filterMethod = (arrayOfProductsTofilter, keyOfProduct, valueOfProduct) => {\n      return arrayOfProductsTofilter.filter(product => {\n        return product[keyOfProduct] == valueOfProduct;\n      });\n    };\n  }\n\n}\n\nexport default filter;","map":{"version":3,"sources":["/Users/valentinlemaire/code/valentinLmr/projects/e-commerce/src/Component/Back-end/filters.js"],"names":["React","Component","filter","filters","categories","size","brand","color","price","data","checkQuantities","products","arrayOfQuantity","sum","map","product","colors","push","checkQuantity","reducermethod","splice","element","result","sizes","find","quantity","findItem","arrayofproduct","initialState","datas","length","categorie","filterMethod","concat","console","log","arrayOfProductsTofilter","keyOfProduct","valueOfProduct"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nclass filter extends Component {\n  filters = {\n    categories: [],\n    size: null,\n    brand: null,\n    color: null,\n    price: null,\n    data: null,\n  };\n\n  checkQuantities = (products) => {\n    let arrayOfQuantity = [];\n    let sum;\n\n    if (this.filters.size) {\n      products.map((product) => {\n        product.colors.map((color) => {\n          arrayOfQuantity.push(this.checkQuantity(color));\n        });\n        sum = this.reducermethod(arrayOfQuantity);\n        arrayOfQuantity = [];\n        if (sum == 0) {\n          this.splice(products, product);\n        }\n        return products;\n      });\n    } else {\n      return products;\n    }\n  };\n\n  checkQuantity = (element) => {\n    let result;\n    let color;\n    if (!this.filters.color) {\n      result = element.sizes.find(\n        (product) => product.size == this.filters.size\n      );\n    } else {\n      color = element.filter((product) => product.color == this.filters.color);\n    }\n    return result.quantity;\n  };\n\n  findItem = () => {\n    let arrayofproduct = [];\n    let initialState = [...datas.products];\n\n    if (\n      this.filters.categories.length > 0 &&\n      this.filters.price &&\n      this.filters.brand\n    ) {\n      this.filters.categories.map((categorie) =>\n        arrayofproduct.push(\n          this.filterMethod(initialState, \"categories\", categorie)\n        )\n      );\n      arrayofproduct = [].concat(...arrayofproduct);\n      arrayofproduct = arrayofproduct.filter((product) => {\n        return (\n          product.price <= this.filters.price &&\n          product.brand == this.filters.brand\n        );\n      });\n    } else if (this.filters.categories.length > 0 && this.filters.price) {\n      this.filters.categories.map((categorie) =>\n        arrayofproduct.push(\n          this.filterMethod(initialState, \"categories\", categorie)\n        )\n      );\n      arrayofproduct = [].concat(...arrayofproduct);\n      arrayofproduct = this.filterMethod(\n        arrayofproduct,\n        \"price\",\n        this.filters.price\n      );\n    } else if (this.filters.categories.length > 0 && this.filters.brand) {\n      this.filters.categories.map((categorie) =>\n        arrayofproduct.push(\n          this.filterMethod(initialState, \"categories\", categorie)\n        )\n      );\n      arrayofproduct = [].concat(...arrayofproduct);\n      arrayofproduct = this.filterMethod(\n        arrayofproduct,\n        \"brand\",\n        this.filters.brand\n      );\n    } else if (this.filters.categories.length == 0 && this.filters.price) {\n      arrayofproduct.push(\n        this.filterMethod(initialState, \"price\", this.filters.price)\n      );\n    } else if (this.filters.categories.length == 0 && this.filters.brand) {\n      console.log(\"i m here\");\n      arrayofproduct.push(\n        this.filterMethod(initialState, \"brand\", this.filters.brand)\n      );\n    } else if (this.filters.categories.length > 0) {\n      this.filters.categories.map((categorie) => {\n        arrayofproduct.push(\n          this.filterMethod(initialState, \"categories\", categorie)\n        );\n      });\n    } else {\n      arrayofproduct = initialState;\n    }\n\n    const products = [].concat(...arrayofproduct);\n    return products;\n  };\n\n  filterMethod = (arrayOfProductsTofilter, keyOfProduct, valueOfProduct) => {\n    return arrayOfProductsTofilter.filter((product) => {\n      return product[keyOfProduct] == valueOfProduct;\n    });\n  };\n}\n\nexport default filter;\n"]},"metadata":{},"sourceType":"module"}