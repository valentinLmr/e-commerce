{"ast":null,"code":"import _toConsumableArray from\"/Users/valentinlemaire/code/valentinLmr/projects/e-commerce/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/valentinlemaire/code/valentinLmr/projects/e-commerce/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/valentinlemaire/code/valentinLmr/projects/e-commerce/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/valentinlemaire/code/valentinLmr/projects/e-commerce/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/valentinlemaire/code/valentinLmr/projects/e-commerce/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import CardProducts from\"./cardProducts\";import datas from\"../../data\";import product from\"./cardProducts\";var productsScreen=/*#__PURE__*/function(_Component){_inherits(productsScreen,_Component);var _super=_createSuper(productsScreen);function productsScreen(){var _this;_classCallCheck(this,productsScreen);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={arrayProducts:datas.products};_this.filters={categories:[],size:null,brand:null,color:null,price:null,data:null};_this.splice=function(array,value){var index=array.indexOf(value);array.splice(index,1);};_this.changeProductCategories=function(filter,value){switch(filter){case\"categories\":if(_this.filters[filter].includes(value)&&_this.filters[filter].length==1){_this.splice(_this.filters[filter],value);_this.resetState();_this.filters.data=datas.products;}else if(_this.filters[filter].includes(value)&&_this.filters[filter].length>1){_this.splice(_this.filters[filter],value);_this.findItems(_this.filters[filter],filter);}else{console.log(_this.filters[filter]);console.log(\"filter : \".concat(filter));console.log(\"value : \".concat(value.toString().class));console.log(\"push robe in categories\");_this.filters.categories.push(value);console.log(_this.filters);console.log(_this.filters.categories.length);console.log(_this.filters.categories);_this.findItems();}break;case\"size\":_this.filters[filter]=value;var newState;if(_this.filters.data){newState=_toConsumableArray(_this.filters.data);}else{newState=_toConsumableArray(datas.products);}newState.forEach(function(e){var result=_this.checkQuantity(e,filter,value);if(!result.includes(true)){_this.splice(newState,e);}});_this.setState({arrayProducts:newState});break;case\"brand\":_this.filters[filter]=value;_this.findItems(Array(_this.filters[filter]),filter);break;case\"color\":_this.filters[filter]=value;break;case\"price\":_this.filters[filter]=value;_this.findItems(Array(_this.filters[filter]),filter);break;}};_this.checkQuantity=function(e,filter,value){var ProductColorOption,result;result=e.colors.map(function(el){ProductColorOption=el.sizes.filter(function(el){return el[filter]==value.toLowerCase();});if(ProductColorOption[0].quantity){return true;}});return result;};_this.resetState=function(){var products;products=datas.products;_this.setState({arrayProducts:products});};_this.findItems=function(){var arrayofproduct=[];console.log(_this.filters.categories);console.log(_this.filters);console.log(_this.filters.categories.length);if(_this.filters.categories.length>0&&_this.filters.price&&_this.filters.brand){console.log(\"je suis step 1\");_this.filters.categories.map(function(categorie){return arrayofproduct.push(datas.products.filter(function(product){return product.categories=categorie;}));});arrayofproduct.filters(function(product){return product.price<=_this.filter.price&&product.price==_this.filter.brand;});}else if(_this.filters.categories.length>0&&_this.filters.price){console.log(\"je suis step 2\");_this.filters.categories.map(function(categorie){return arrayofproduct.push(datas.products.filter(function(product){return product.categories=categorie;}));});arrayofproduct.filters(function(product){return product.price<=_this.filters.price;});}else if(_this.filters.categories.length>0&&_this.filters.brand){console.log(\"je suis step 3\");_this.filters.categories.map(function(categorie){return arrayofproduct.push(datas.products.filter(function(product){return product.categories=categorie;}));});arrayofproduct.filters(function(product){return product.brand==_this.filters.brand;});}else if(_this.filters.categories.length=0&&_this.filters.brand){console.log(\"je suis step 4\");_this.filters.brand.map(function(brand){return arrayofproduct.push(datas.products.filter(function(product){return product.brand=brand;}));});}else if(_this.filters.categories.length=0&&_this.filters.price){console.log(\"je suis step 5\");_this.filters.brand.map(function(price){return arrayofproduct.push(datas.products.filter(function(product){return product.price<=price;}));});}else{console.log(_this.filters.categories.length);_this.filters.categories.map(function(categorie){console.log(\"product \".concat(categorie));arrayofproduct.push(datas.products.filter(function(product){console.log(\"product \".concat(product));console.log(\"product \".concat(categorie));product.categories=categorie;}));});}// const products = [].concat(...arrayofproduct);\n// this.setState({ arrayProducts: products });\n// this.filters.datas = products;\n// if (this.filters.brands.length > 0 && value != \"categories\") {\n//   this.filters.categories.map((e) => {\n//     arrayofproduct = datas.products.filter((x) => {\n//       return x.categories == e;\n//     });\n//   });\n//   arrayofproduct = arrayofproduct.filter((x) => {\n//     return x[value] == filters;\n//   });\n// } else if (\n//   value == \"categories\" &&\n//   this.filters.brand &&\n//   this.filters.price\n// ) {\n//   filters.map((e) => {\n//     arrayofproduct.push(\n//       datas.products.filter((x) => {\n//         return x[value] == e;\n//       })\n//     );\n//   });\n//   arrayofproduct = arrayofproduct.filter((x) => {\n//     return x.brand == this.filters.brand && x.price < this.filters.price;\n//   });\n// } else if (value == \"categories\" && this.filters.brand) {\n//   filters.map((e) => {\n//     arrayofproduct.push(\n//       datas.products.filter((x) => {\n//         return x[value] == e;\n//       })\n//     );\n//   });\n//   arrayofproduct = arrayofproduct.filter((x) => {\n//     return x.brand == this.filters.brand;\n//   });\n// } else if (\n//   value == \"categories\" &&\n//   this.filters.categories.length == 0 &&\n//   this.filters.brand\n// ) {\n//   filters.map((e) => {\n//     arrayofproduct.push(\n//       datas.products.filter((x) => {\n//         return x[value] == e;\n//       })\n//     );\n//   });\n// } else {\n//   filters.map((e) => {\n//     arrayofproduct.push(\n//       datas.products.filter((x) => {\n//         return x[value] == e;\n//       })\n//     );\n//   });\n// }\n};_this.changeState=function(newState){};return _this;}_createClass(productsScreen,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"section\",{className:\"filterbar\"},/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"Searchbar\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",label:\"What are you looking for ?\"}),/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-search\"}))),/*#__PURE__*/React.createElement(\"ul\",{className:\"filters\",\"data-filter\":\"categories\",onClick:function onClick(e){console.log();_this2.changeProductCategories(e.target.parentElement.dataset.filter,e.target.innerText);}},/*#__PURE__*/React.createElement(\"li\",null,\"Robe\"),/*#__PURE__*/React.createElement(\"li\",null,\"Jupe\"),/*#__PURE__*/React.createElement(\"li\",null,\"Tee-shirt\"),/*#__PURE__*/React.createElement(\"li\",null,\"Sweatshirt\"),/*#__PURE__*/React.createElement(\"li\",null,\"Pants\"),/*#__PURE__*/React.createElement(\"li\",null,\"Jean\"),/*#__PURE__*/React.createElement(\"li\",null,\"Vest\"),/*#__PURE__*/React.createElement(\"li\",null,\"overalls\")),/*#__PURE__*/React.createElement(\"div\",{className:\"under-filters\"},/*#__PURE__*/React.createElement(\"form\",{className:\"under-filters-form\"},/*#__PURE__*/React.createElement(\"select\",{type:\"select\",\"data-filter\":\"size\",onChange:function onChange(e){return _this2.changeProductCategories(e.target.dataset.filter,e.target.value);}},/*#__PURE__*/React.createElement(\"option\",null,\"S\"),/*#__PURE__*/React.createElement(\"option\",null,\"M\"),/*#__PURE__*/React.createElement(\"option\",null,\"XL\")),/*#__PURE__*/React.createElement(\"select\",{type:\"select\",\"data-filter\":\"brand\",onChange:function onChange(e){return _this2.changeProductCategories(e.target.dataset.filter,e.target.value);}},/*#__PURE__*/React.createElement(\"option\",null,\"Adidas\"),/*#__PURE__*/React.createElement(\"option\",null,\"Nike\"),/*#__PURE__*/React.createElement(\"option\",null,\"Vans\"),/*#__PURE__*/React.createElement(\"option\",null,\"Veja\"),/*#__PURE__*/React.createElement(\"option\",null,\"Converse\")),/*#__PURE__*/React.createElement(\"select\",{type:\"select\",onChange:function onChange(e){return _this2.changeProductCategories(e.target.value);}},/*#__PURE__*/React.createElement(\"option\",null,\"20 \\u20AC\"),/*#__PURE__*/React.createElement(\"option\",null,\"40 \\u20AC\"),/*#__PURE__*/React.createElement(\"option\",null,\"60 \\u20AC\"),/*#__PURE__*/React.createElement(\"option\",null,\"80 \\u20AC\"),/*#__PURE__*/React.createElement(\"option\",null,\"100 \\u20AC\"),/*#__PURE__*/React.createElement(\"option\",null,\"150 \\u20AC\")),/*#__PURE__*/React.createElement(\"select\",{type:\"select\",onChange:function onChange(e){return _this2.changeProductCategories(e.target.value);}},/*#__PURE__*/React.createElement(\"option\",null,\"Blue\"),/*#__PURE__*/React.createElement(\"option\",null,\"Red\"),/*#__PURE__*/React.createElement(\"option\",null,\"Yellow\"),/*#__PURE__*/React.createElement(\"option\",null,\"Orange\"),/*#__PURE__*/React.createElement(\"option\",null,\"Green\"),/*#__PURE__*/React.createElement(\"option\",null,\"Black\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"main-products-screen\"},/*#__PURE__*/React.createElement(\"div\",{className:\"products-display\"},this.state.arrayProducts.map(function(product){return/*#__PURE__*/React.createElement(CardProducts,{product:product,key:product.id});}))));}}]);return productsScreen;}(Component);export default productsScreen;","map":{"version":3,"sources":["/Users/valentinlemaire/code/valentinLmr/projects/e-commerce/src/Component/Products/productsScreen.js"],"names":["React","Component","CardProducts","datas","product","productsScreen","state","arrayProducts","products","filters","categories","size","brand","color","price","data","splice","array","value","index","indexOf","changeProductCategories","filter","includes","length","resetState","findItems","console","log","toString","class","push","newState","forEach","e","result","checkQuantity","setState","Array","ProductColorOption","colors","map","el","sizes","toLowerCase","quantity","arrayofproduct","categorie","changeState","target","parentElement","dataset","innerText","id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport CardProducts from \"./cardProducts\";\nimport datas from \"../../data\";\nimport product from \"./cardProducts\";\n\nclass productsScreen extends Component {\n  state = {\n    arrayProducts: datas.products,\n  };\n\n  filters = {\n    categories: [],\n    size: null,\n    brand: null,\n    color: null,\n    price: null,\n    data: null,\n  };\n\n  splice = (array, value) => {\n    const index = array.indexOf(value);\n    array.splice(index, 1);\n  };\n\n  changeProductCategories = (filter, value) => {\n    switch (filter) {\n      case \"categories\":\n        if (\n          this.filters[filter].includes(value) &&\n          this.filters[filter].length == 1\n        ) {\n          this.splice(this.filters[filter], value);\n          this.resetState();\n          this.filters.data = datas.products;\n        } else if (\n          this.filters[filter].includes(value) &&\n          this.filters[filter].length > 1\n        ) {\n          this.splice(this.filters[filter], value);\n          this.findItems(this.filters[filter], filter);\n        } else {\n          console.log(this.filters[filter]);\n\n          console.log(`filter : ${filter}`);\n          console.log(`value : ${value.toString().class}`);\n          console.log(\"push robe in categories\");\n          this.filters.categories.push(value);\n          console.log(this.filters);\n          console.log(this.filters.categories.length);\n          console.log(this.filters.categories);\n          this.findItems();\n        }\n\n        break;\n\n      case \"size\":\n        this.filters[filter] = value;\n\n        let newState;\n\n        if (this.filters.data) {\n          newState = [...this.filters.data];\n        } else {\n          newState = [...datas.products];\n        }\n\n        newState.forEach((e) => {\n          let result = this.checkQuantity(e, filter, value);\n          if (!result.includes(true)) {\n            this.splice(newState, e);\n          }\n        });\n        this.setState({ arrayProducts: newState });\n        break;\n\n      case \"brand\":\n        this.filters[filter] = value;\n        this.findItems(Array(this.filters[filter]), filter);\n        break;\n      case \"color\":\n        this.filters[filter] = value;\n        break;\n      case \"price\":\n        this.filters[filter] = value;\n        this.findItems(Array(this.filters[filter]), filter);\n        break;\n    }\n  };\n\n  checkQuantity = (e, filter, value) => {\n    let ProductColorOption, result;\n    result = e.colors.map((el) => {\n      ProductColorOption = el.sizes.filter(\n        (el) => el[filter] == value.toLowerCase()\n      );\n      if (ProductColorOption[0].quantity) {\n        return true;\n      }\n    });\n    return result;\n  };\n\n  resetState = () => {\n    let products;\n    products = datas.products;\n    this.setState({ arrayProducts: products });\n  };\n\n  findItems = () => {\n    let arrayofproduct = [];\n    console.log(this.filters.categories);\n    console.log(this.filters);\n\n    console.log(this.filters.categories.length);\n\n    if (\n      this.filters.categories.length > 0 &&\n      this.filters.price &&\n      this.filters.brand\n    ) {\n      console.log(\"je suis step 1\");\n      this.filters.categories.map((categorie) =>\n        arrayofproduct.push(\n          datas.products.filter((product) => (product.categories = categorie))\n        )\n      );\n      arrayofproduct.filters((product) => {\n        return (\n          product.price <= this.filter.price &&\n          product.price == this.filter.brand\n        );\n      });\n    } else if (this.filters.categories.length > 0 && this.filters.price) {\n      console.log(\"je suis step 2\");\n      this.filters.categories.map((categorie) =>\n        arrayofproduct.push(\n          datas.products.filter((product) => (product.categories = categorie))\n        )\n      );\n      arrayofproduct.filters((product) => product.price <= this.filters.price);\n    } else if (this.filters.categories.length > 0 && this.filters.brand) {\n      console.log(\"je suis step 3\");\n      this.filters.categories.map((categorie) =>\n        arrayofproduct.push(\n          datas.products.filter((product) => (product.categories = categorie))\n        )\n      );\n      arrayofproduct.filters((product) => product.brand == this.filters.brand);\n    } else if ((this.filters.categories.length = 0 && this.filters.brand)) {\n      console.log(\"je suis step 4\");\n      this.filters.brand.map((brand) =>\n        arrayofproduct.push(\n          datas.products.filter((product) => (product.brand = brand))\n        )\n      );\n    } else if ((this.filters.categories.length = 0 && this.filters.price)) {\n      console.log(\"je suis step 5\");\n      this.filters.brand.map((price) =>\n        arrayofproduct.push(\n          datas.products.filter((product) => product.price <= price)\n        )\n      );\n    } else {\n      console.log(this.filters.categories.length);\n      this.filters.categories.map((categorie) => {\n        console.log(`product ${categorie}`);\n        arrayofproduct.push(\n          datas.products.filter((product) => {\n            console.log(`product ${product}`);\n            console.log(`product ${categorie}`);\n            product.categories = categorie;\n          })\n        );\n      });\n    }\n\n    // const products = [].concat(...arrayofproduct);\n    // this.setState({ arrayProducts: products });\n    // this.filters.datas = products;\n\n    // if (this.filters.brands.length > 0 && value != \"categories\") {\n    //   this.filters.categories.map((e) => {\n    //     arrayofproduct = datas.products.filter((x) => {\n    //       return x.categories == e;\n    //     });\n    //   });\n    //   arrayofproduct = arrayofproduct.filter((x) => {\n    //     return x[value] == filters;\n    //   });\n    // } else if (\n    //   value == \"categories\" &&\n    //   this.filters.brand &&\n    //   this.filters.price\n    // ) {\n    //   filters.map((e) => {\n    //     arrayofproduct.push(\n    //       datas.products.filter((x) => {\n    //         return x[value] == e;\n    //       })\n    //     );\n    //   });\n\n    //   arrayofproduct = arrayofproduct.filter((x) => {\n    //     return x.brand == this.filters.brand && x.price < this.filters.price;\n    //   });\n    // } else if (value == \"categories\" && this.filters.brand) {\n    //   filters.map((e) => {\n    //     arrayofproduct.push(\n    //       datas.products.filter((x) => {\n    //         return x[value] == e;\n    //       })\n    //     );\n    //   });\n    //   arrayofproduct = arrayofproduct.filter((x) => {\n    //     return x.brand == this.filters.brand;\n    //   });\n    // } else if (\n    //   value == \"categories\" &&\n    //   this.filters.categories.length == 0 &&\n    //   this.filters.brand\n    // ) {\n    //   filters.map((e) => {\n    //     arrayofproduct.push(\n    //       datas.products.filter((x) => {\n    //         return x[value] == e;\n    //       })\n    //     );\n    //   });\n    // } else {\n    //   filters.map((e) => {\n    //     arrayofproduct.push(\n    //       datas.products.filter((x) => {\n    //         return x[value] == e;\n    //       })\n    //     );\n    //   });\n    // }\n  };\n\n  changeState = (newState) => {};\n\n  render() {\n    return (\n      <div>\n        <section className=\"filterbar\">\n          <form>\n            <div className=\"Searchbar\">\n              <input type=\"text\" label=\"What are you looking for ?\" />\n              <i className=\"fas fa-search\"></i>\n            </div>\n          </form>\n          <ul\n            className=\"filters\"\n            data-filter=\"categories\"\n            onClick={(e) => {\n              console.log();\n              this.changeProductCategories(\n                e.target.parentElement.dataset.filter,\n                e.target.innerText\n              );\n            }}\n          >\n            <li>Robe</li>\n            <li>Jupe</li>\n            <li>Tee-shirt</li>\n            <li>Sweatshirt</li>\n            <li>Pants</li>\n            <li>Jean</li>\n            <li>Vest</li>\n            <li>overalls</li>\n          </ul>\n\n          <div className=\"under-filters\">\n            <form className=\"under-filters-form\">\n              <select\n                type=\"select\"\n                data-filter=\"size\"\n                onChange={(e) =>\n                  this.changeProductCategories(\n                    e.target.dataset.filter,\n                    e.target.value\n                  )\n                }\n              >\n                <option>S</option>\n                <option>M</option>\n                <option>XL</option>\n              </select>\n              <select\n                type=\"select\"\n                data-filter=\"brand\"\n                onChange={(e) =>\n                  this.changeProductCategories(\n                    e.target.dataset.filter,\n                    e.target.value\n                  )\n                }\n              >\n                <option>Adidas</option>\n                <option>Nike</option>\n                <option>Vans</option>\n                <option>Veja</option>\n                <option>Converse</option>\n              </select>\n              <select\n                type=\"select\"\n                onChange={(e) => this.changeProductCategories(e.target.value)}\n              >\n                <option>20 €</option>\n                <option>40 €</option>\n                <option>60 €</option>\n                <option>80 €</option>\n                <option>100 €</option>\n                <option>150 €</option>\n              </select>\n              <select\n                type=\"select\"\n                onChange={(e) => this.changeProductCategories(e.target.value)}\n              >\n                <option>Blue</option>\n                <option>Red</option>\n                <option>Yellow</option>\n                <option>Orange</option>\n                <option>Green</option>\n                <option>Black</option>\n              </select>\n            </form>\n          </div>\n        </section>\n        <div className=\"main-products-screen\">\n          <div className=\"products-display\">\n            {this.state.arrayProducts.map((product) => (\n              <CardProducts product={product} key={product.id} />\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default productsScreen;\n"]},"metadata":{},"sourceType":"module"}