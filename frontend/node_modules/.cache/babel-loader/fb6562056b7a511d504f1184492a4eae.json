{"ast":null,"code":"import React, { Component } from \"react\";\nimport datas from \"../../data\";\nexport default filter = () => {\n  filters = {\n    categories: [],\n    size: null,\n    brand: null,\n    color: null,\n    price: null,\n    data: null\n  };\n\n  changeState = filters => {\n    console.log(filters);\n  };\n\n  checkQuantities = products => {\n    let arrayOfQuantity = [];\n    let sum;\n\n    if (this.filters.size) {\n      products.map(product => {\n        product.colors.map(color => {\n          arrayOfQuantity.push(this.checkQuantity(color));\n        });\n        sum = this.reducermethod(arrayOfQuantity);\n        arrayOfQuantity = [];\n\n        if (sum == 0) {\n          this.splice(products, product);\n        }\n\n        return products;\n      });\n    } else {\n      return products;\n    }\n  };\n\n  checkQuantity = element => {\n    let result;\n    let color;\n\n    if (!this.filters.color) {\n      result = element.sizes.find(product => product.size == this.filters.size);\n    } else {\n      color = element.filter(product => product.color == this.filters.color);\n    }\n\n    return result.quantity;\n  };\n\n  findItem = () => {\n    let arrayofproduct = [];\n    let initialState = [...datas.products];\n\n    if (this.filters.categories.length > 0 && this.filters.price && this.filters.brand) {\n      this.filters.categories.map(categorie => arrayofproduct.push(this.filterMethod(initialState, \"categories\", categorie)));\n      arrayofproduct = [].concat(...arrayofproduct);\n      arrayofproduct = arrayofproduct.filter(product => {\n        return product.price <= this.filters.price && product.brand == this.filters.brand;\n      });\n    } else if (this.filters.categories.length > 0 && this.filters.price) {\n      this.filters.categories.map(categorie => arrayofproduct.push(this.filterMethod(initialState, \"categories\", categorie)));\n      arrayofproduct = [].concat(...arrayofproduct);\n      arrayofproduct = this.filterMethod(arrayofproduct, \"price\", this.filters.price);\n    } else if (this.filters.categories.length > 0 && this.filters.brand) {\n      this.filters.categories.map(categorie => arrayofproduct.push(this.filterMethod(initialState, \"categories\", categorie)));\n      arrayofproduct = [].concat(...arrayofproduct);\n      arrayofproduct = this.filterMethod(arrayofproduct, \"brand\", this.filters.brand);\n    } else if (this.filters.categories.length == 0 && this.filters.price) {\n      arrayofproduct.push(this.filterMethod(initialState, \"price\", this.filters.price));\n    } else if (this.filters.categories.length == 0 && this.filters.brand) {\n      console.log(\"i m here\");\n      arrayofproduct.push(this.filterMethod(initialState, \"brand\", this.filters.brand));\n    } else if (this.filters.categories.length > 0) {\n      this.filters.categories.map(categorie => {\n        arrayofproduct.push(this.filterMethod(initialState, \"categories\", categorie));\n      });\n    } else {\n      arrayofproduct = initialState;\n    }\n\n    const products = [].concat(...arrayofproduct);\n    return products;\n  };\n\n  filterMethod = (arrayOfProductsTofilter, keyOfProduct, valueOfProduct) => {\n    return arrayOfProductsTofilter.filter(product => {\n      return product[keyOfProduct] == valueOfProduct;\n    });\n  };\n};","map":{"version":3,"sources":["/Users/valentinlemaire/code/valentinLmr/projects/e-commerce/src/Component/Back-end/filters.js"],"names":["React","Component","datas","filter","filters","categories","size","brand","color","price","data","changeState","console","log","checkQuantities","products","arrayOfQuantity","sum","map","product","colors","push","checkQuantity","reducermethod","splice","element","result","sizes","find","quantity","findItem","arrayofproduct","initialState","length","categorie","filterMethod","concat","arrayOfProductsTofilter","keyOfProduct","valueOfProduct"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport datas from \"../../data\";\n\nexport default filter = () => {\n  filters = {\n    categories: [],\n    size: null,\n    brand: null,\n    color: null,\n    price: null,\n    data: null,\n  };\n\n  changeState = (filters) => {\n    console.log(filters);\n  };\n\n  checkQuantities = (products) => {\n    let arrayOfQuantity = [];\n    let sum;\n\n    if (this.filters.size) {\n      products.map((product) => {\n        product.colors.map((color) => {\n          arrayOfQuantity.push(this.checkQuantity(color));\n        });\n        sum = this.reducermethod(arrayOfQuantity);\n        arrayOfQuantity = [];\n        if (sum == 0) {\n          this.splice(products, product);\n        }\n        return products;\n      });\n    } else {\n      return products;\n    }\n  };\n\n  checkQuantity = (element) => {\n    let result;\n    let color;\n    if (!this.filters.color) {\n      result = element.sizes.find(\n        (product) => product.size == this.filters.size\n      );\n    } else {\n      color = element.filter((product) => product.color == this.filters.color);\n    }\n    return result.quantity;\n  };\n\n  findItem = () => {\n    let arrayofproduct = [];\n    let initialState = [...datas.products];\n\n    if (\n      this.filters.categories.length > 0 &&\n      this.filters.price &&\n      this.filters.brand\n    ) {\n      this.filters.categories.map((categorie) =>\n        arrayofproduct.push(\n          this.filterMethod(initialState, \"categories\", categorie)\n        )\n      );\n      arrayofproduct = [].concat(...arrayofproduct);\n      arrayofproduct = arrayofproduct.filter((product) => {\n        return (\n          product.price <= this.filters.price &&\n          product.brand == this.filters.brand\n        );\n      });\n    } else if (this.filters.categories.length > 0 && this.filters.price) {\n      this.filters.categories.map((categorie) =>\n        arrayofproduct.push(\n          this.filterMethod(initialState, \"categories\", categorie)\n        )\n      );\n      arrayofproduct = [].concat(...arrayofproduct);\n      arrayofproduct = this.filterMethod(\n        arrayofproduct,\n        \"price\",\n        this.filters.price\n      );\n    } else if (this.filters.categories.length > 0 && this.filters.brand) {\n      this.filters.categories.map((categorie) =>\n        arrayofproduct.push(\n          this.filterMethod(initialState, \"categories\", categorie)\n        )\n      );\n      arrayofproduct = [].concat(...arrayofproduct);\n      arrayofproduct = this.filterMethod(\n        arrayofproduct,\n        \"brand\",\n        this.filters.brand\n      );\n    } else if (this.filters.categories.length == 0 && this.filters.price) {\n      arrayofproduct.push(\n        this.filterMethod(initialState, \"price\", this.filters.price)\n      );\n    } else if (this.filters.categories.length == 0 && this.filters.brand) {\n      console.log(\"i m here\");\n      arrayofproduct.push(\n        this.filterMethod(initialState, \"brand\", this.filters.brand)\n      );\n    } else if (this.filters.categories.length > 0) {\n      this.filters.categories.map((categorie) => {\n        arrayofproduct.push(\n          this.filterMethod(initialState, \"categories\", categorie)\n        );\n      });\n    } else {\n      arrayofproduct = initialState;\n    }\n\n    const products = [].concat(...arrayofproduct);\n    return products;\n  };\n\n  filterMethod = (arrayOfProductsTofilter, keyOfProduct, valueOfProduct) => {\n    return arrayOfProductsTofilter.filter((product) => {\n      return product[keyOfProduct] == valueOfProduct;\n    });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}