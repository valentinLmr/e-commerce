{"ast":null,"code":"var _jsxFileName = \"/Users/valentinlemaire/code/valentinLmr/projects/e-commerce/src/Component/Products/productsScreen.js\";\nimport React, { Component } from \"react\";\nimport CardProducts from \"./cardProducts\";\nimport datas from \"../../data\";\n\nclass productsScreen extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      arrayProducts: datas.products\n    };\n    this.filters = {\n      categories: [],\n      size: null,\n      brand: null,\n      color: null,\n      price: null,\n      data: null\n    };\n\n    this.splice = (array, value) => {\n      const index = array.indexOf(value);\n      array.splice(index, 1);\n    };\n\n    this.changeProductCategories = (filter, value) => {\n      switch (filter) {\n        case \"categories\":\n          if (this.filters[filter].includes(value) && this.filters[filter].length == 1) {\n            this.splice(this.filters[filter], value);\n            this.resetState();\n            this.filters.data = datas.products;\n          } else if (this.filters[filter].includes(value) && this.filters[filter].length > 1) {\n            this.splice(this.filters[filter], value);\n            this.findItems(this.filters[filter], filter);\n          } else {\n            this.filters.categories.push(value);\n            this.findItems();\n          }\n\n          break;\n\n        case \"size\":\n          this.filters[filter] = value;\n          let newState;\n\n          if (this.filters.data) {\n            newState = [...this.filters.data];\n          } else {\n            newState = [...datas.products];\n          }\n\n          newState.forEach(e => {\n            let result = this.checkQuantity(e, filter, value);\n\n            if (!result.includes(true)) {\n              this.splice(newState, e);\n            }\n          });\n          this.setState({\n            arrayProducts: newState\n          });\n          break;\n\n        case \"brand\":\n          this.filters[filter] = value;\n          this.findItems(Array(this.filters[filter]), filter);\n          break;\n\n        case \"color\":\n          this.filters[filter] = value;\n          break;\n\n        case \"price\":\n          this.filters[filter] = value;\n          this.findItems(Array(this.filters[filter]), filter);\n          break;\n      }\n    };\n\n    this.checkQuantity = (e, filter, value) => {\n      let ProductColorOption, result;\n      result = e.colors.map(el => {\n        ProductColorOption = el.sizes.filter(el => el[filter] == value.toLowerCase());\n\n        if (ProductColorOption[0].quantity) {\n          return true;\n        }\n      });\n      return result;\n    };\n\n    this.resetState = () => {\n      let products;\n      products = datas.products;\n      this.setState({\n        arrayProducts: products\n      });\n    };\n\n    this.findItems = () => {\n      console.log(this.filters.categories);\n      console.log(this.filters.categories.length > 0 ? true : false);\n      let arrayofproduct = [];\n\n      if (this.filters.categories.length > 0 && this.filters.price && this.filters.brand) {\n        console.log(\"je suis step 1\");\n        this.filters.categories.map(categorie => arrayofproduct.push(datas.products.filter(product => product.categories = categorie)));\n        arrayofproduct.filters(product => {\n          return product.price <= this.filter.price && product.price == this.filter.brand;\n        });\n      } else if (this.filters.categories.length > 0 && this.filters.price) {\n        console.log(\"je suis step 2\");\n        this.filters.categories.map(categorie => arrayofproduct.push(datas.products.filter(product => product.categories = categorie)));\n        arrayofproduct.filters(product => product.price <= this.filters.price);\n      } else if (this.filters.categories.length > 0 && this.filters.brand) {\n        console.log(\"je suis step 3\");\n        this.filters.categories.map(categorie => arrayofproduct.push(datas.products.filter(product => product.categories = categorie)));\n        arrayofproduct.filters(product => product.brand == this.filters.brand);\n      } else if (this.filters.categories.length == 0 && this.filters.price) {\n        console.log(\"je suis step 4\");\n        this.filters.brand.map(brand => arrayofproduct.push(datas.products.filter(product => product.brand = brand)));\n      } else if (this.filters.categories.length == 0 && this.filters.price) {\n        console.log(\"je suis step 5\");\n        this.filters.brand.map(price => arrayofproduct.push(datas.products.filter(product => product.price <= price)));\n      } else if (this.filters.categories > 0) {\n        console.log(this.filters.categories);\n        this.filters.categories.map(categorie => {\n          console.log(`product ${categorie}`);\n          arrayofproduct.push(datas.products.filter(product => {\n            console.log(`product ${product}`);\n            console.log(`product ${categorie}`);\n            product.categories = categorie;\n          }));\n        });\n      } else {\n        console.log(\"no filters at all\");\n      } // const products = [].concat(...arrayofproduct);\n      // this.setState({ arrayProducts: products });\n      // this.filters.datas = products;\n      // if (this.filters.brands.length > 0 && value != \"categories\") {\n      //   this.filters.categories.map((e) => {\n      //     arrayofproduct = datas.products.filter((x) => {\n      //       return x.categories == e;\n      //     });\n      //   });\n      //   arrayofproduct = arrayofproduct.filter((x) => {\n      //     return x[value] == filters;\n      //   });\n      // } else if (\n      //   value == \"categories\" &&\n      //   this.filters.brand &&\n      //   this.filters.price\n      // ) {\n      //   filters.map((e) => {\n      //     arrayofproduct.push(\n      //       datas.products.filter((x) => {\n      //         return x[value] == e;\n      //       })\n      //     );\n      //   });\n      //   arrayofproduct = arrayofproduct.filter((x) => {\n      //     return x.brand == this.filters.brand && x.price < this.filters.price;\n      //   });\n      // } else if (value == \"categories\" && this.filters.brand) {\n      //   filters.map((e) => {\n      //     arrayofproduct.push(\n      //       datas.products.filter((x) => {\n      //         return x[value] == e;\n      //       })\n      //     );\n      //   });\n      //   arrayofproduct = arrayofproduct.filter((x) => {\n      //     return x.brand == this.filters.brand;\n      //   });\n      // } else if (\n      //   value == \"categories\" &&\n      //   this.filters.categories.length == 0 &&\n      //   this.filters.brand\n      // ) {\n      //   filters.map((e) => {\n      //     arrayofproduct.push(\n      //       datas.products.filter((x) => {\n      //         return x[value] == e;\n      //       })\n      //     );\n      //   });\n      // } else {\n      //   filters.map((e) => {\n      //     arrayofproduct.push(\n      //       datas.products.filter((x) => {\n      //         return x[value] == e;\n      //       })\n      //     );\n      //   });\n      // }\n\n    };\n\n    this.changeState = newState => {};\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"filterbar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Searchbar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      label: \"What are you looking for ?\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"filters\",\n      \"data-filter\": \"categories\",\n      onClick: e => {\n        console.log();\n        this.changeProductCategories(e.target.parentElement.dataset.filter, e.target.innerText);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 13\n      }\n    }, \"Robe\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 13\n      }\n    }, \"Jupe\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 13\n      }\n    }, \"Tee-shirt\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 13\n      }\n    }, \"Sweatshirt\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 13\n      }\n    }, \"Pants\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 13\n      }\n    }, \"Jean\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 13\n      }\n    }, \"Vest\"), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 13\n      }\n    }, \"overalls\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"under-filters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"under-filters-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      type: \"select\",\n      \"data-filter\": \"size\",\n      onChange: e => this.changeProductCategories(e.target.dataset.filter, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 17\n      }\n    }, \"S\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 17\n      }\n    }, \"M\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 17\n      }\n    }, \"XL\")), /*#__PURE__*/React.createElement(\"select\", {\n      type: \"select\",\n      \"data-filter\": \"brand\",\n      onChange: e => this.changeProductCategories(e.target.dataset.filter, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 17\n      }\n    }, \"Adidas\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 17\n      }\n    }, \"Nike\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 17\n      }\n    }, \"Vans\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 17\n      }\n    }, \"Veja\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 17\n      }\n    }, \"Converse\")), /*#__PURE__*/React.createElement(\"select\", {\n      type: \"select\",\n      onChange: e => this.changeProductCategories(e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 17\n      }\n    }, \"20 \\u20AC\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 17\n      }\n    }, \"40 \\u20AC\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }\n    }, \"60 \\u20AC\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 17\n      }\n    }, \"80 \\u20AC\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 17\n      }\n    }, \"100 \\u20AC\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 17\n      }\n    }, \"150 \\u20AC\")), /*#__PURE__*/React.createElement(\"select\", {\n      type: \"select\",\n      onChange: e => this.changeProductCategories(e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 17\n      }\n    }, \"Blue\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 17\n      }\n    }, \"Red\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 17\n      }\n    }, \"Yellow\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 17\n      }\n    }, \"Orange\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 17\n      }\n    }, \"Green\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 17\n      }\n    }, \"Black\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-products-screen\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"products-display\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 11\n      }\n    }, this.state.arrayProducts.map(product => /*#__PURE__*/React.createElement(CardProducts, {\n      product: product,\n      key: product.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nexport default productsScreen;","map":{"version":3,"sources":["/Users/valentinlemaire/code/valentinLmr/projects/e-commerce/src/Component/Products/productsScreen.js"],"names":["React","Component","CardProducts","datas","productsScreen","state","arrayProducts","products","filters","categories","size","brand","color","price","data","splice","array","value","index","indexOf","changeProductCategories","filter","includes","length","resetState","findItems","push","newState","forEach","e","result","checkQuantity","setState","Array","ProductColorOption","colors","map","el","sizes","toLowerCase","quantity","console","log","arrayofproduct","categorie","product","changeState","render","target","parentElement","dataset","innerText","id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport CardProducts from \"./cardProducts\";\nimport datas from \"../../data\";\n\nclass productsScreen extends Component {\n  state = {\n    arrayProducts: datas.products,\n  };\n\n  filters = {\n    categories: [],\n    size: null,\n    brand: null,\n    color: null,\n    price: null,\n    data: null,\n  };\n\n  splice = (array, value) => {\n    const index = array.indexOf(value);\n    array.splice(index, 1);\n  };\n\n  changeProductCategories = (filter, value) => {\n    switch (filter) {\n      case \"categories\":\n        if (\n          this.filters[filter].includes(value) &&\n          this.filters[filter].length == 1\n        ) {\n          this.splice(this.filters[filter], value);\n          this.resetState();\n          this.filters.data = datas.products;\n        } else if (\n          this.filters[filter].includes(value) &&\n          this.filters[filter].length > 1\n        ) {\n          this.splice(this.filters[filter], value);\n          this.findItems(this.filters[filter], filter);\n        } else {\n          this.filters.categories.push(value);\n\n          this.findItems();\n        }\n        break;\n\n      case \"size\":\n        this.filters[filter] = value;\n        let newState;\n        if (this.filters.data) {\n          newState = [...this.filters.data];\n        } else {\n          newState = [...datas.products];\n        }\n        newState.forEach((e) => {\n          let result = this.checkQuantity(e, filter, value);\n          if (!result.includes(true)) {\n            this.splice(newState, e);\n          }\n        });\n        this.setState({ arrayProducts: newState });\n        break;\n\n      case \"brand\":\n        this.filters[filter] = value;\n        this.findItems(Array(this.filters[filter]), filter);\n        break;\n      case \"color\":\n        this.filters[filter] = value;\n        break;\n      case \"price\":\n        this.filters[filter] = value;\n        this.findItems(Array(this.filters[filter]), filter);\n        break;\n    }\n  };\n\n  checkQuantity = (e, filter, value) => {\n    let ProductColorOption, result;\n    result = e.colors.map((el) => {\n      ProductColorOption = el.sizes.filter(\n        (el) => el[filter] == value.toLowerCase()\n      );\n      if (ProductColorOption[0].quantity) {\n        return true;\n      }\n    });\n    return result;\n  };\n\n  resetState = () => {\n    let products;\n    products = datas.products;\n    this.setState({ arrayProducts: products });\n  };\n\n  findItems = () => {\n    console.log(this.filters.categories);\n    console.log(this.filters.categories.length > 0 ? true : false);\n    let arrayofproduct = [];\n\n    if (\n      this.filters.categories.length > 0 &&\n      this.filters.price &&\n      this.filters.brand\n    ) {\n      console.log(\"je suis step 1\");\n      this.filters.categories.map((categorie) =>\n        arrayofproduct.push(\n          datas.products.filter((product) => (product.categories = categorie))\n        )\n      );\n      arrayofproduct.filters((product) => {\n        return (\n          product.price <= this.filter.price &&\n          product.price == this.filter.brand\n        );\n      });\n    } else if (this.filters.categories.length > 0 && this.filters.price) {\n      console.log(\"je suis step 2\");\n      this.filters.categories.map((categorie) =>\n        arrayofproduct.push(\n          datas.products.filter((product) => (product.categories = categorie))\n        )\n      );\n      arrayofproduct.filters((product) => product.price <= this.filters.price);\n    } else if (this.filters.categories.length > 0 && this.filters.brand) {\n      console.log(\"je suis step 3\");\n      this.filters.categories.map((categorie) =>\n        arrayofproduct.push(\n          datas.products.filter((product) => (product.categories = categorie))\n        )\n      );\n      arrayofproduct.filters((product) => product.brand == this.filters.brand);\n    } else if (this.filters.categories.length == 0 && this.filters.price) {\n      console.log(\"je suis step 4\");\n      this.filters.brand.map((brand) =>\n        arrayofproduct.push(\n          datas.products.filter((product) => (product.brand = brand))\n        )\n      );\n    } else if (this.filters.categories.length == 0 && this.filters.price) {\n      console.log(\"je suis step 5\");\n      this.filters.brand.map((price) =>\n        arrayofproduct.push(\n          datas.products.filter((product) => product.price <= price)\n        )\n      );\n    } else if (this.filters.categories > 0) {\n      console.log(this.filters.categories);\n      this.filters.categories.map((categorie) => {\n        console.log(`product ${categorie}`);\n        arrayofproduct.push(\n          datas.products.filter((product) => {\n            console.log(`product ${product}`);\n            console.log(`product ${categorie}`);\n            product.categories = categorie;\n          })\n        );\n      });\n    } else {\n      console.log(\"no filters at all\");\n    }\n\n    // const products = [].concat(...arrayofproduct);\n    // this.setState({ arrayProducts: products });\n    // this.filters.datas = products;\n\n    // if (this.filters.brands.length > 0 && value != \"categories\") {\n    //   this.filters.categories.map((e) => {\n    //     arrayofproduct = datas.products.filter((x) => {\n    //       return x.categories == e;\n    //     });\n    //   });\n    //   arrayofproduct = arrayofproduct.filter((x) => {\n    //     return x[value] == filters;\n    //   });\n    // } else if (\n    //   value == \"categories\" &&\n    //   this.filters.brand &&\n    //   this.filters.price\n    // ) {\n    //   filters.map((e) => {\n    //     arrayofproduct.push(\n    //       datas.products.filter((x) => {\n    //         return x[value] == e;\n    //       })\n    //     );\n    //   });\n\n    //   arrayofproduct = arrayofproduct.filter((x) => {\n    //     return x.brand == this.filters.brand && x.price < this.filters.price;\n    //   });\n    // } else if (value == \"categories\" && this.filters.brand) {\n    //   filters.map((e) => {\n    //     arrayofproduct.push(\n    //       datas.products.filter((x) => {\n    //         return x[value] == e;\n    //       })\n    //     );\n    //   });\n    //   arrayofproduct = arrayofproduct.filter((x) => {\n    //     return x.brand == this.filters.brand;\n    //   });\n    // } else if (\n    //   value == \"categories\" &&\n    //   this.filters.categories.length == 0 &&\n    //   this.filters.brand\n    // ) {\n    //   filters.map((e) => {\n    //     arrayofproduct.push(\n    //       datas.products.filter((x) => {\n    //         return x[value] == e;\n    //       })\n    //     );\n    //   });\n    // } else {\n    //   filters.map((e) => {\n    //     arrayofproduct.push(\n    //       datas.products.filter((x) => {\n    //         return x[value] == e;\n    //       })\n    //     );\n    //   });\n    // }\n  };\n\n  changeState = (newState) => {};\n\n  render() {\n    return (\n      <div>\n        <section className=\"filterbar\">\n          <form>\n            <div className=\"Searchbar\">\n              <input type=\"text\" label=\"What are you looking for ?\" />\n              <i className=\"fas fa-search\"></i>\n            </div>\n          </form>\n          <ul\n            className=\"filters\"\n            data-filter=\"categories\"\n            onClick={(e) => {\n              console.log();\n              this.changeProductCategories(\n                e.target.parentElement.dataset.filter,\n                e.target.innerText\n              );\n            }}\n          >\n            <li>Robe</li>\n            <li>Jupe</li>\n            <li>Tee-shirt</li>\n            <li>Sweatshirt</li>\n            <li>Pants</li>\n            <li>Jean</li>\n            <li>Vest</li>\n            <li>overalls</li>\n          </ul>\n\n          <div className=\"under-filters\">\n            <form className=\"under-filters-form\">\n              <select\n                type=\"select\"\n                data-filter=\"size\"\n                onChange={(e) =>\n                  this.changeProductCategories(\n                    e.target.dataset.filter,\n                    e.target.value\n                  )\n                }\n              >\n                <option>S</option>\n                <option>M</option>\n                <option>XL</option>\n              </select>\n              <select\n                type=\"select\"\n                data-filter=\"brand\"\n                onChange={(e) =>\n                  this.changeProductCategories(\n                    e.target.dataset.filter,\n                    e.target.value\n                  )\n                }\n              >\n                <option>Adidas</option>\n                <option>Nike</option>\n                <option>Vans</option>\n                <option>Veja</option>\n                <option>Converse</option>\n              </select>\n              <select\n                type=\"select\"\n                onChange={(e) => this.changeProductCategories(e.target.value)}\n              >\n                <option>20 €</option>\n                <option>40 €</option>\n                <option>60 €</option>\n                <option>80 €</option>\n                <option>100 €</option>\n                <option>150 €</option>\n              </select>\n              <select\n                type=\"select\"\n                onChange={(e) => this.changeProductCategories(e.target.value)}\n              >\n                <option>Blue</option>\n                <option>Red</option>\n                <option>Yellow</option>\n                <option>Orange</option>\n                <option>Green</option>\n                <option>Black</option>\n              </select>\n            </form>\n          </div>\n        </section>\n        <div className=\"main-products-screen\">\n          <div className=\"products-display\">\n            {this.state.arrayProducts.map((product) => (\n              <CardProducts product={product} key={product.id} />\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default productsScreen;\n"]},"metadata":{},"sourceType":"module"}